<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title> Choose Prg By funder </title>
    <link href="styles.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>

</head>

<body style="background-color:lightgray;">

    <div id="wrapper" class="wrapper" style="width:100%;background-color:white;">
        <div id="header" class="header" style="margin-right:15%;">
            <div class="logo">
                <a href="#"><img src="assets/logo.png"></a>
            </div>
            <div class="navbar">
                <ul>
                    <li><img id="img1" src="assets/main-page.png"><a id="headnavli1" href="#">صفحه اصلی</a> </li>
                    <li> <a id="headnavli2" href="#">منو دوم</a> </li>
                    <li> <a id="headnavli3" href="#">منو سوم</a><img id="img2" src="assets/dropdown.png"> </li>
                    <li> <a id="headnavli4" href="#">منو چهارم</a><img id="img3" src="assets/dropdown.png"> </li>
                </ul>
            </div>
            <div class="controller">
                <span id="alert"></span>
                <span id="notify">
                    <img id="img4" src="assets/bell.png">
                </span>
                <span id="cash">
                    <img src="assets/dropdown.png" id="drop">$100
                </span>
                <button id="theme" onclick="changeTheme()">
                    <img id="theme-icon" src="assets/half-moon.png">
                </button>
            </div>
        </div>
    </div>
    <div>
        <div class="row searchBar">
            <div class="col-sm-2"></div>
            <div class="col-sm-8">
                <br /><br />
                <div class="input-icons">
                    <i class="fa fa-search fa-2x icon">
                    </i>
                    <input type="text" id="searchbar" placeholder="جستجو ..." />
                </div>
            </div>
            <div class="col-sm-2"></div>
        </div>

        <br />

        <div class="row">
            <div id="list"></div>

            <div class="col-sm-4">
                <div class="product">
                    <div class="row">
                        <div class="col-sm-6">
                            <h4>عنوان</h4>
                        </div>
                        <div class="col-sm-6">
                            <h5>3Day</h5>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <textarea class="product-area" disabled>dlfbjbhlsjbjbsgb</textarea>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-9">
                        </div>
                        <div class="col-sm-3">
                            <button class="product-button" onclick="getProduct(id)">اقدام کنید</button>
                        </div>
                    </div>
                </div>
            </div>

			 <div class="col-sm-4">
                <div class="product">
                    <div class="row">
                        <div class="col-sm-6">
                            <h4>عنوان</h4>
                        </div>
                        <div class="col-sm-6">
                            <h5>3Day</h5>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <textarea class="product-area" disabled>dlfbjbhlsjbjbsgb</textarea>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-9">
                        </div>
                        <div class="col-sm-3">
                            <button class="product-button" onclick="getProduct(id)">اقدام کنید</button>
                        </div>
                    </div>
                </div>
            </div>

			 <div class="col-sm-4">
                <div class="product">
                    <div class="row">
                        <div class="col-sm-6">
                            <h4>عنوان</h4>
                        </div>
                        <div class="col-sm-6">
                            <h5>3Day</h5>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <textarea class="product-area" disabled>dlfbjbhlsjbjbsgb</textarea>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-9">
                        </div>
                        <div class="col-sm-3">
                            <button class="product-button" onclick="getProduct(id)">اقدام کنید</button>
                        </div>
                    </div>
                </div>
            </div>

			<div class="col-sm-4">
                <div class="product">
                    <div class="row">
                        <div class="col-sm-6">
                            <h4>عنوان</h4>
                        </div>
                        <div class="col-sm-6">
                            <h5>3Day</h5>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <textarea class="product-area" disabled>dlfbjbhlsjbjbsgb</textarea>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-9">
                        </div>
                        <div class="col-sm-3">
                            <button class="product-button" onclick="getProduct(id)">اقدام کنید</button>
                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>



    <script>
        $(document).ready(function () {
            debugger
            fetch('/api/project/info', {
                method: 'POST',
                headers:{
                    'Content-Type': "text/json"
                },
                body: JSON.stringify({
                   title: document.getElementById("searchbar").value
                })
            })
                .then(data => {

                    console.log(data);

                    var html = '';

                    data.forEach(
                        (a, b, c, d) =>
                            html += '<div class="col-sm-4">< div class="product">'
                            + '<div class="row"><div class="col-sm-6"><h4>' + a + '</h4></div>'
                            + '<div class="col-sm-6"><h5>' + b + '</h5></div></div>'
                            + '<div class="row"><div class="col-sm-12"><textarea class="product-area" disabled>' + c + '</textarea></div></div>'
                            + '<div class="row"><div class="col-sm-9"></div><div class="col-sm-3"><button class="product-button" onclick = "getProduct(' + d + ')">اقدام کنید</button></div></div></div>'
                    );

                    document.getElementById('list').innerHTML = html;

                })
                .catch(error => {
                    //alert("خطا در دریافت اطلاعات از سرور");
                });
        });


        //load product
        function getProduct(id) {
            location.href = "Funder Choose product.html ? id=" + id;
        }


        changeTheme = function () {
            if (document.getElementById("theme-icon").src.match("assets/half-moon.png")) {
                document.body.style.backgroundColor = "#555";
                document.getElementById("wrapper").style.backgroundColor = "#111";
                document.getElementsByClassName("title")[0].style.color = "white";
                document.getElementById("header").style.backgroundColor = "#555";
                document.getElementById("theme").style.backgroundColor = "#AAA";
                document.getElementById("theme-icon").src = "assets/sun.png";
                document.getElementById("img1").src = "assets/main-page-white.png";
                document.getElementById("img2").src = "assets/dropdown-white.png";
                document.getElementById("img3").src = "assets/dropdown-white.png";
                document.getElementById("img4").src = "assets/bell-white.png";
                document.getElementById("drop").src = "assets/dropdown-white.png";
                document.getElementById("header").style.color = "white";
                document.getElementById("headnavli1").style.color = "white";
                document.getElementById("headnavli2").style.color = "white";
                document.getElementById("headnavli3").style.color = "white";
                document.getElementById("headnavli4").style.color = "white";
                document.getElementById("notify").style.backgroundColor = "#AAA";
                document.getElementById("cash").style.backgroundColor = "#AAA";

            }
            else if (document.getElementById("theme-icon").src.match("assets/sun.png")) {
                document.body.style.backgroundColor = "white";
                document.getElementById("wrapper").style.backgroundColor = "var(--lightgray)";
                document.getElementsByClassName("title")[0].style.color = "black";
                document.getElementById("header").style.backgroundColor = "white";
                document.getElementById("theme").style.backgroundColor = "var(--lightgray)";
                document.getElementById("theme-icon").src = "assets/half-moon.png";
                document.getElementById("img1").src = "assets/main-page.png";
                document.getElementById("img2").src = "assets/dropdown.png";
                document.getElementById("img3").src = "assets/dropdown.png";
                document.getElementById("img4").src = "assets/bell.png";
                document.getElementById("drop").src = "assets/dropdown.png";
                document.getElementById("header").style.color = "black";
                document.getElementById("headnavli1").style.color = "black";
                document.getElementById("headnavli2").style.color = "black";
                document.getElementById("headnavli3").style.color = "black";
                document.getElementById("headnavli4").style.color = "black";
                document.getElementById("notify").style.backgroundColor = "var(--lightgray)";
                document.getElementById("cash").style.backgroundColor = "var(--lightgray)";
            }
        }

    </script>

</body>

</html>
