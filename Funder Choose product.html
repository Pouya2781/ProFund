<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title> Funder Choose Prj</title>
    <link href="styles.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>

</head>

<body style="background-color: #d9d9d9;">

    <div id="wrapper" class="wrapper" style="width:100%;background-color:white;">
        <div id="header" class="header" style="margin-right:15%;">
            <div class="logo">
                <a href="#"><img src="assets/logo.png"></a>
            </div>
            <div class="navbar">
                <ul>
                    <li><img id="img1" src="assets/main-page.png"><a id="headnavli1" href="#">صفحه اصلی</a> </li>
                    <li> <a id="headnavli2" href="#">منو دوم</a> </li>
                    <li> <a id="headnavli3" href="#">منو سوم</a><img id="img2" src="assets/dropdown.png"> </li>
                    <li> <a id="headnavli4" href="#">منو چهارم</a><img id="img3" src="assets/dropdown.png"> </li>
                </ul>
            </div>
            <div class="controller">
                <span id="alert"></span>
                <span id="notify">
                    <img id="img4" src="assets/bell.png">
                </span>
                <span id="cash">
                    <img src="assets/dropdown.png" id="drop">$100
                </span>
                <button id="theme" onclick="changeTheme()">
                    <img id="theme-icon" src="assets/half-moon.png">
                </button>
            </div>
        </div>
    </div>
    <br />
    <div class="row prjCard">
        <div class="col-sm-8">
            <div class="row">
                <div class="col-sm-9">
                    <h4 id="project_title">عنوان پروژه تست</h4>
                </div>
                <div class="col-sm-2">
                    <h6 id="like_Count">10</h6>
                </div>
                <div class="col-sm-1">
                    <i class="fa fa-thumbs-up fa-2x" style="color: #00cc33;"></i>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-9">
                    <h6 id="project_clarification">عنوان پروژه تست</h6>
                </div>
                <div class="col-sm-2">
                    <h6 id="dislike_Count">2</h6>
                </div>
                <div class="col-sm-1">
                    <i class="fa fa-thumbs-down fa-2x" style="color:red;"></i>
                </div>
            </div>
            <div class="row">
                <textarea class="product-area" disabled>دسته بندی تست</textarea>
            </div>
        </div>
        <div class="col-sm-4">
            <img id="project_img" class="prjImg" />
        </div>
    </div>
    <br />
    <div class="row" style="background-color: white;width:40%;margin-right:30%;border-radius:10px;padding:1%;">
        <div class="col-sm-2">
            <h5 id="percentage" style="color:green;">50</h5>
        </div>
        <div class="col-sm-6">
            <h6>درصد از پروژه تکمیل شده است.</h6>
        </div>
        <div class="col-sm-4">
           <button class=".supportBtn" onclick="Support()">حمایت</button>
        </div>
    </div>

	  <br />
    <div class="row" style="background-color: white;width:40%;margin-right:30%;border-radius:10px;padding:1%;">
        <div class="col-sm-4">
          <h6>توضیحات</h6>
        </div>
        <div class="col-sm-4">
            <h6>نحوه حمایت</h6>
        </div>
        <div class="col-sm-4">
           <h6>نظرات</h6>
        </div>
    </div>
	     <div class="row">
		 
                <textarea class="product-area" style="background-color: lightgray; height:500px;width:40%;margin-right:30%;border-radius:5px;padding:1%;">
				</textarea>

			<br />

			<div  class="col-sm-6" >
			<br />
            <h6 class="step" >نحوه حمایت</h6>
        </div>
			

         <div class="col-sm-2">
           
        </div>
    </div>

	<br />
<div class="row" style="width:40%;margin:auto;padding:1%;background-color:lightgray;">
<div class="col-sm-5" style="margin: 5px;">
    <br/>
<p>دونیت</p>
<br/>
<h6>مبلغ مورد نظر را وارد کنید:</h6>
<br/>
<input type="number" style="border-radius: 10px;border-color: white;border-block: none"/>
<br/>
</br>
<button onclick="registerandPay()" style="border-radius: 10px;border-color: white;border-block: none;background-color: lightskyblue;color: white;">ثبت و پرداخت</button>
</div>
<div class="col-sm-5" style="margin: 5px;">
    <br/>
    <p>توکن</p>
    <br/>
    <textarea style="border-radius: 10px;border-color: white;border-block: none;height: 100px;width: 230px;"></textarea>
    <br/>
    <button onclick="registerandPay()" style="border-radius: 10px;border-color: white;border-block: none;background-color: lightskyblue;color: white;">ثبت و پرداخت</button>
</div>
</div>


<br/><br/>
		
<div class="row" style="width:40%;margin:auto;padding:1%;background-color:lightgray;">

<div class="col-sm-6">
<p>نام و نام خانوادگی</p>
<br/>
<input  type="text" id="name" style="border-radius: 10px;border-color: white;border-block: none"/>
</div>

<div class="col-sm-6">
    <p> شماره موبایل</p>
    <br/>
    <input  type="text" id="mobile" style="border-radius: 10px;border-color: white;border-block: none"/>
</div>


<br/><br/>

<div class="col-sm-6">
    <p>ایمیل</p>
    <br/>
    <input  type="text" id="name" style="border-radius: 10px;border-color: white;border-block: none"/>
    </div>
    
    <div class="col-sm-6">
        <p>موضوع</p>
        <br/>
        <input  type="text" id="topic" style="border-radius: 10px;border-color: white;border-block: none"/>
    </div>

<div>
</br>
<div class="row" style="width:90%;padding:1%;background-color:lightgray;">
    <p>سوال و پیشنهاد</p>
<textarea  style="border-radius: 10px;height:150px;border-color: white;border-block: none">
</textarea>
</div>
<div>
    <div >
        <h12>اگر سرمایه گزار پروژه هستید می توانید با علامت های روبرو امتیاز دهید</h12>
            <button class="fa fa-thumbs-up fa-2x" style="color: #00cc33;border-radius: 10px;border-color: white;border-block: none;"></button>
            <button class="fa fa-thumbs-down fa-2x" style="color:red;border-radius: 10px;border-color: white;border-block: none"></button>
    </div>
</div>
</br>
<div class="col-sm-6">
    <button style="border-radius: 10px;border-color: white;border-block: none;background-color: lightskyblue;color: white;margin-right:510px ;">ثبت</button>

</div>
</div>
</div>
</div>



    <script>

        $(document).ready(function () {

           let project_id = getParams();


           fetch('/api/project/', {
               method: 'POST',
               body: JSON.stringify({
                   id: project_id,
               })
           })
               .then(data => {
                   console.log(data);

                   //براساس داده های بازگشتی از ای پی آی این قسمت ها تخصیص داده میشوند و پر میکنند
                //    document.getElementById('project_img').src = data.imageAddress;
                   document.getElementById('project_title').value = data.title;
                   document.getElementById('like_Count').value = data.like;
                   document.getElementById('project_clarification').value = data.clarification;
                   document.getElementById('dislike_Count').value = data.dislike;
                   document.getElementById('percentage').value = data.percentage;
                   document.getElementById('name').value = data.name;

               })
               .catch(error => {
                //    alert("خطا در دریافت اطلاعات از سرور");
               });


//                $.ajax({

//                 // Our sample url to make request
//                 url:
//                     '/api/project/',
//                  type: "POST",
//                  body: JSON.stringify({
//                    id: project_id,
//                }),
//                 success: function (data) {
//                     console.log(data);

// //براساس داده های بازگشتی از ای پی آی این قسمت ها تخصیص داده میشوند و پر میکنند
// //    document.getElementById('project_img').src = data.imageAddress;
// document.getElementById('project_title').value = data.title;
// document.getElementById('like_Count').value = data.like;
// document.getElementById('project_clarification').value = data.clarification;
// document.getElementById('dislike_Count').value = data.dislike;
// document.getElementById('percentage').value = data.percentage;
// document.getElementById('name').value = data.name;

//                 },
 
//                 // Error handling
//                 error: function (error) {
//                     console.log(`Error ${error}`);
//                 }
//             });
        
        });




        //to get the passed id to load project
        function getParams() {
            var idx = document.URL.indexOf('?');
            var params = new Array();
            if (idx != -1) {
                var pairs = document.URL.substring(idx + 1, document.URL.length).split('&');
                for (var i = 0; i < pairs.length; i++) {
                    nameVal = pairs[i].split('=');
                    params[nameVal[0]] = nameVal[1];
                }
            }
            //return params;
            return params[0];
        }

        function Support() {

        }


        changeTheme = function () {
            if (document.getElementById("theme-icon").src.match("assets/half-moon.png")) {
                document.body.style.backgroundColor = "#555";
                document.getElementById("wrapper").style.backgroundColor = "#111";
                document.getElementsByClassName("title")[0].style.color = "white";
                document.getElementById("header").style.backgroundColor = "#555";
                document.getElementById("theme").style.backgroundColor = "#AAA";
                document.getElementById("theme-icon").src = "assets/sun.png";
                document.getElementById("img1").src = "assets/main-page-white.png";
                document.getElementById("img2").src = "assets/dropdown-white.png";
                document.getElementById("img3").src = "assets/dropdown-white.png";
                document.getElementById("img4").src = "assets/bell-white.png";
                document.getElementById("drop").src = "assets/dropdown-white.png";
                document.getElementById("header").style.color = "white";
                document.getElementById("headnavli1").style.color = "white";
                document.getElementById("headnavli2").style.color = "white";
                document.getElementById("headnavli3").style.color = "white";
                document.getElementById("headnavli4").style.color = "white";
                document.getElementById("notify").style.backgroundColor = "#AAA";
                document.getElementById("cash").style.backgroundColor = "#AAA";

            }
            else if (document.getElementById("theme-icon").src.match("assets/sun.png")) {
                document.body.style.backgroundColor = "white";
                document.getElementById("wrapper").style.backgroundColor = "var(--lightgray)";
                document.getElementsByClassName("title")[0].style.color = "black";
                document.getElementById("header").style.backgroundColor = "white";
                document.getElementById("theme").style.backgroundColor = "var(--lightgray)";
                document.getElementById("theme-icon").src = "assets/half-moon.png";
                document.getElementById("img1").src = "assets/main-page.png";
                document.getElementById("img2").src = "assets/dropdown.png";
                document.getElementById("img3").src = "assets/dropdown.png";
                document.getElementById("img4").src = "assets/bell.png";
                document.getElementById("drop").src = "assets/dropdown.png";
                document.getElementById("header").style.color = "black";
                document.getElementById("headnavli1").style.color = "black";
                document.getElementById("headnavli2").style.color = "black";
                document.getElementById("headnavli3").style.color = "black";
                document.getElementById("headnavli4").style.color = "black";
                document.getElementById("notify").style.backgroundColor = "var(--lightgray)";
                document.getElementById("cash").style.backgroundColor = "var(--lightgray)";
            }
        }

    </script>

</body>

</html>
